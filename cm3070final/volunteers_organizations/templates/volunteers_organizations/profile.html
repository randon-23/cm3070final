{% extends 'base/base_authenticated.html' %}
{% load static %}
{% block title %}Dashboard{% endblock %}
{% block auth_content %}
    <button onclick="toggleSidebar()" class="md:hidden bg-gray-700 text-white p-2 rounded mb-4">
        â˜° Menu
    </button>

    <!-- Profile Card -->
    <div class="bg-white p-6 rounded-lg shadow-lg flex items-center space-x-6">
        <div class="grid grid-cols-5 gap-6 items-center w-full place-items-center relative">
            <!-- Profile Image -->
            <div class="flex justify-center relative">
                {% if is_own_profile %}
                    {% if user.volunteer %}
                        {% if user.volunteer.profile_img %}
                            <img class="w-64 h-64 rounded-full object-cover" src="{{ user.volunteer.profile_img.url }}" alt="Profile Picture">
                        {% else %}
                            <img class="w-64 h-64 rounded-full object-cover" src="{% static 'images/default_volunteer.svg' %}" alt="Profile Picture">
                        {% endif %}
                    {% elif user.organization %}
                        {% if user.organization.organization_profile_img %}
                            <img class="w-64 h-64 rounded-full object-cover" src="{{ user.organization.organization_profile_img.url }}" alt="Profile Picture">
                        {% else %}
                            <img class="w-64 h-64 rounded-full object-cover" src="{% static 'images/default_volunteer.svg' %}" alt="Profile Picture">
                        {% endif %}
                    {% endif %}
                {% else %}
                    {% if user_profile.volunteer %}
                        {% if user_profile.volunteer.profile_img %}
                            <img class="w-64 h-64 rounded-full object-cover" src="{{ user_profile.volunteer.profile_img.url }}" alt="Profile Picture">
                        {% else %}
                            <img class="w-64 h-64 rounded-full object-cover" src="{% static 'images/default_volunteer.svg' %}" alt="Profile Picture">
                        {% endif %}
                    {% elif user_profile.organization %}
                        {% if user_profile.organization.organization_profile_img %}
                            <img class="w-64 h-64 rounded-full object-cover" src="{{ user_profile.organization.organization_profile_img.url }}" alt="Profile Picture">
                        {% else %}
                            <img class="w-64 h-64 rounded-full object-cover" src="{% static 'images/default_volunteer.svg' %}" alt="Profile Picture">
                        {% endif %}
                    {% endif %}
                {% endif %}
            </div>

            <!--Name Section-->
            <div class="flex flex-col justify-center text-center relative">
                {% if is_own_profile %}
                    {% if user.volunteer %}
                        <h1 class="text-4xl font-bold">{{ user.volunteer.first_name }}</h1>
                        <h1 class="text-4xl font-bold">{{ user.volunteer.last_name }}</h1>
                    {% elif user.organization %}
                        <h1 class="text-4xl font-bold">{{ user.organization.name }}</h1>
                    {% endif %}
                {% else %}
                    {% if user_profile.volunteer %}
                        <h1 class="text-4xl font-bold">{{ user_profile.volunteer.first_name }}</h1>
                        <h1 class="text-4xl font-bold">{{ user_profile.volunteer.last_name }}</h1>
                    {% elif user_profile.organization %}
                        <h1 class="text-4xl font-bold">{{ user_profile.organization.organization_name }}</h1>
                    {% endif %}
                {% endif %}
            </div>

            <!-- Profile Details -->
            <!--Column 1-->
            <div class="flex flex-col justify-center text-center space-y-2 relative">
                {% if is_own_profile %}
                    {% if user.volunteer %}
                        <p class="text-gray-700">User Type: <strong>{{ user.user_type }}</strong></p>
                        <p class="text-gray-700">Email: <strong>{{ user.email_address }}</strong></p>
                        <p class="text-gray-700">Contact Number: <strong>{{ user.contact_number }}</strong></p>
                    {% elif user.organization %}
                        <p class="text-gray-700">User Type: <strong>{{ user.user_type }}</strong></p>
                        <p class="text-gray-700">Email: <strong>{{ user.email_address }}</strong></p>
                        <p class="text-gray-700">Contact Number: <strong>{{ user.contact_number }}</strong></p>
                    {% endif %}
                {% else %}
                    {% if user_profile.volunteer %}
                        <p class="text-gray-700">User Type: <strong>{{ user_profile.account.user_type }}</strong></p>
                        <p class="text-gray-700">Email: <strong>{{ user_profile.account.email_address }}</strong></p>
                        <p class="text-gray-700">Contact Number: <strong>{{ user_profile.account.contact_number }}</strong></p>
                    {% elif user_profile.organization %}
                        <p class="text-gray-700">User Type: <strong>{{ user_profile.account.user_type }}</strong></p>
                        <p class="text-gray-700">Email: <strong>{{ user_profile.account.email_address }}</strong></p>
                        <p class="text-gray-700">Contact Number: <strong>{{ user_profile.account.contact_number }}</strong></p>
                    {% endif %}
                {% endif %}
            </div>

            <!--Column 2-->
            <div class="flex flex-col justify-center text-center space-y-2 relative">
                {% if is_own_profile %}
                    {% if user.volunteer %}
                        <p class="text-gray-700">Location: <strong>San Francisco, CA</strong></p>
                        <p class="text-gray-700">Bio: <strong>{{ user.volunteer.bio }}</strong></p>
                        <p class="text-gray-700">Date of Birth: <strong>{{ user.volunteer.dob }}</strong></p>
                        <p class="text-gray-700">Followers: <strong>{{ user.volunteer.followers }}</strong></p>
                    {% elif user.organization %}
                        <p class="text-gray-700">Organization Description: <strong>{{ user.organization.organization_description }}</strong></p>
                        <p class="text-gray-700">Organization Address: <strong>{{ user.organization.organization_address }}</strong></p>
                        <p class="text-gray-700">Organization Website: <strong>{{ user.organization.organization_website }}</strong></p>
                        <p class="text-gray-700">Followers: <strong>{{ user.organization.followers }}</strong></p>
                    {% endif %}
                {% else %}
                    {% if user_profile.volunteer %}
                        <p class="text-gray-700">Location: <strong>San Francisco, CA</strong></p>
                        <p class="text-gray-700">Bio: <strong>{{ user_profile.volunteer.bio }}</strong></p>
                        <p class="text-gray-700">Date of Birth: <strong>{{ user_profile.volunteer.dob }}</strong></p>
                        <p class="text-gray-700">Followers: <strong>{{ user_profile.volunteer.followers }}</strong></p>
                    {% elif user_profile.organization %}
                        <p class="text-gray-700">Organization Description: <strong>{{ user_profile.organization.organization_description }}</strong></p>
                        <p class="text-gray-700">Organization Address: <strong>{{ user_profile.organization.organization_address }}</strong></p>
                        <p class="text-gray-700">Organization Website: <strong>{{ user_profile.organization.organization_website }}</strong></p>
                        <p class="text-gray-700">Followers: <strong>{{ user_profile.organization.followers }}</strong></p>
                    {% endif %}
                {% endif %}
            </div>

            <!-- Edit Profile Button (Only for Own Profile) / Follow Button-->
            <div class="w-full flex justify-center items-center relative">
                {% if is_own_profile %}
                    <button class="w-full mx-4 px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600 flex items-center justify-center space-x-2">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125" />
                        </svg>                          
                        <span class="font-bold">Edit Profile</span>
                    </button>   
                {% else %}
                    {% if not is_following %}
                        <button id="follow-btn" 
                        class="w-full mx-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center justify-center space-x-2"
                        onclick="poo">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z" />
                            </svg>                      
                            <span class="font-bold">Follow</span>
                        </button>
                    {% else %}
                        <button id="unfollow-btn" 
                        class="w-full mx-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 flex items-center justify-center space-x-2"
                        onclick="poo">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M22 10.5h-6m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM4 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 10.374 21c-2.331 0-4.512-.645-6.374-1.766Z" />
                            </svg>
                            <span class="font-bold">Unfollow</span>
                        </button>
                    {% endif %}
                {% endif %}
            </div>
                
            <!-- Separators (Tailwind using `after:` pseudo-elements) -->
            <div class="absolute top-1/2 left-[20%] w-[1px] bg-gray-300 h-[75%] transform -translate-y-1/2"></div>
            <div class="absolute top-1/2 left-[40%] w-[1px] bg-gray-300 h-[75%] transform -translate-y-1/2"></div>
            <div class="absolute top-1/2 left-[60%] w-[1px] bg-gray-300 h-[75%] transform -translate-y-1/2"></div>
            <div class="absolute top-1/2 left-[80%] w-[1px] bg-gray-300 h-[75%] transform -translate-y-1/2"></div>
        </div>
    </div>

    <!-- Stats Section -->
    <div class="grid grid-cols-2 gap-6 mt-6">
        <div class="bg-white p-4 rounded-lg shadow-md text-center">
            <p class="text-2xl font-bold">248</p>
            <p class="text-gray-500">Total Hours</p>
        </div>
        <div class="bg-white p-4 rounded-lg shadow-md text-center">
            <p class="text-2xl font-bold">12</p>
            <p class="text-gray-500">Organizations</p>
        </div>
    </div>

    <!-- Two column layour for endorsements & contributions and status updates -->
    <div class="grid grid-cols-2 gap-6 mt-6 items-start">
        <!-- Status Updates (Left Side) -->
        <div class="bg-white p-6 rounded-lg shadow-md">
            <h1 class="text-lg text-center font-bold mb-2">Status Updates</h1>
            <div class="w-3/4 h-[1px] bg-gray-300 mx-auto mb-6"></div>
            <div class="space-y-4">
                <div class="border-l-4 border-blue-500 pl-4">
                    <p class="text-gray-700"><strong>Adam Randon</strong> completed an 8-hour volunteering shift at the Local Food Bank.</p>
                    <p class="text-sm text-gray-500">2 hours ago</p>
                </div>
                <div class="border-l-4 border-green-500 pl-4">
                    <p class="text-gray-700"><strong>Sarah Lee</strong> started a new initiative for tree planting in urban areas.</p>
                    <p class="text-sm text-gray-500">1 day ago</p>
                </div>
                <div class="border-l-4 border-yellow-500 pl-4">
                    <p class="text-gray-700"><strong>John Doe</strong> reached 500 total volunteer hours milestone!</p>
                    <p class="text-sm text-gray-500">3 days ago</p>
                </div>
                <div class="border-l-4 border-red-500 pl-4">
                    <p class="text-gray-700"><strong>Real Nigga</strong> done been that nigga!</p>
                    <p class="text-sm text-gray-500">4 days ago</p>
                </div>
            </div>
            <!-- "All statuses loaded" at bottom -->
            <div class="text-center mt-4 text-sm text-gray-500">All statuses loaded</div>
        </div>
    
        <!-- Right Column (Stacked Sections) -->
        <div class="flex flex-col space-y-6">
            <!-- Endorsements -->
            <div class="bg-white p-6 rounded-lg shadow-md">
                <h1 class="text-lg text-center font-bold mb-2">Endorsements</h1>
                <div class="w-3/4 h-[1px] bg-gray-300 mx-auto mb-6"></div>
                <div class="space-y-4">
                    <div class="flex items-center space-x-4">
                        <img class="w-10 h-10 rounded-full" src="https://i.pravatar.cc/100?img=3" alt="">
                        <div>
                            <h3 class="font-semibold">John Smith</h3>
                            <p class="text-sm text-gray-500">Project Manager, Green Earth Initiative</p>
                            <p class="text-gray-700">Sarah has been an exceptional volunteer, showing great dedication and leadership in our conservation projects.</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-4">
                        <img class="w-10 h-10 rounded-full" src="https://i.pravatar.cc/100?img=5" alt="">
                        <div>
                            <h3 class="font-semibold">Maria Rodriguez</h3>
                            <p class="text-sm text-gray-500">Volunteer Coordinator, Local Food Bank</p>
                            <p class="text-gray-700">Always reliable and brings positive energy to every project. A true asset to our organization.</p>
                        </div>
                    </div>
                </div>
            </div>
    
            <!-- Latest Contributions -->
            <div class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-lg text-center font-bold mb-2">Latest Contributions</h2>
                <div class="w-3/4 h-[1px] bg-gray-300 mx-auto mb-6"></div>
                <div class="space-y-4">
                    <div class="flex justify-between border-b pb-2">
                        <p class="text-gray-700">Contributed 4 hours at Animal Shelter</p>
                        <p class="text-gray-500 text-sm">Feb 15, 2025</p>
                    </div>
                    <div class="flex justify-between border-b pb-2">
                        <p class="text-gray-700">Helped organize fundraising event</p>
                        <p class="text-gray-500 text-sm">Feb 10, 2025</p>
                    </div>
                    <div class="flex justify-between">
                        <p class="text-gray-700">Mentored new volunteers</p>
                        <p class="text-gray-500 text-sm">Feb 5, 2025</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}